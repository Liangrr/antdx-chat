# AI èŠå¤©åº”ç”¨ - é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
antdx-demo/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ AIChat/         # AIèŠå¤©ç›¸å…³ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ChatMessage/      # èŠå¤©æ¶ˆæ¯ç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â”œâ”€â”€ ChatInput/        # è¾“å…¥æ¡†ç»„ä»¶ï¼ˆå¢å¼ºç‰ˆï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â”œâ”€â”€ ChatContainer/    # èŠå¤©å®¹å™¨ç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â”œâ”€â”€ Sidebar/          # å·¦ä¾§è¾¹æ ï¼ˆä¼šè¯åˆ—è¡¨ï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â”œâ”€â”€ WelcomePage/      # æ¬¢è¿é¡µï¼ˆçƒ­é—¨è¯é¢˜ï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â”œâ”€â”€ GuidePanel/       # å³ä¾§æŒ‡å—é¢æ¿
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â”œâ”€â”€ ModelSelector/    # æ¨¡å‹é€‰æ‹©å™¨ç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â”œâ”€â”€ ChatHeader/       # èŠå¤©å¤´éƒ¨ç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ style.css
â”‚   â”‚       â””â”€â”€ index.ts          # ç»„ä»¶ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ AIChatPage/     # AIèŠå¤©é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/           # æœåŠ¡å±‚ï¼ˆAPIè°ƒç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ chatService.ts  # èŠå¤©æœåŠ¡
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useChat.ts      # èŠå¤©åŠŸèƒ½Hook
â”‚   â”‚   â”œâ”€â”€ useSession.ts   # ä¼šè¯ç®¡ç†Hook
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ chat.ts         # èŠå¤©ç›¸å…³ç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/          # å¸¸é‡é…ç½®
â”‚   â”‚   â”œâ”€â”€ models.ts       # AIæ¨¡å‹é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts      # HTTPè¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ storage.ts      # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx             # åº”ç”¨ä¸»å…¥å£
â”‚   â”œâ”€â”€ App.css             # åº”ç”¨å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ main.tsx            # Reactå…¥å£
â”‚   â””â”€â”€ index.css           # å…¨å±€åŸºç¡€æ ·å¼
â”‚
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.ts          # Viteé…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScripté…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### 1. ç»„ä»¶å±‚ï¼ˆComponentsï¼‰
- **Sidebar**: å·¦ä¾§è¾¹æ ï¼Œæ˜¾ç¤ºå¯¹è¯å†å²åˆ—è¡¨ï¼Œæ”¯æŒæ–°å»ºã€åˆ é™¤ã€é‡å‘½å
- **WelcomePage**: æ¬¢è¿é¡µï¼Œæ˜¾ç¤ºçƒ­é—¨è¯é¢˜å¡ç‰‡
- **GuidePanel**: å³ä¾§æŒ‡å—é¢æ¿ï¼Œå±•ç¤ºè®¾è®¡æŒ‡å—
- **ChatMessage**: å•æ¡æ¶ˆæ¯å±•ç¤ºï¼Œæ”¯æŒç”¨æˆ·/AIæ¶ˆæ¯æ ·å¼åŒºåˆ†
- **ChatInput**: å¢å¼ºç‰ˆè¾“å…¥æ¡†ï¼Œå¸¦å·¥å…·æ ï¼ˆå‡çº§ã€ç»„ä»¶ã€RICHæŒ‡å—ç­‰ï¼‰
- **ChatContainer**: æ¶ˆæ¯å®¹å™¨ï¼Œè´Ÿè´£æ¶ˆæ¯åˆ—è¡¨å±•ç¤ºå’Œæ»šåŠ¨
- **ModelSelector**: AIæ¨¡å‹é€‰æ‹©å™¨ï¼ˆå¯é€‰ï¼‰
- **ChatHeader**: èŠå¤©å¤´éƒ¨ç»„ä»¶ï¼ˆå¯é€‰ï¼‰

### 2. é¡µé¢å±‚ï¼ˆPagesï¼‰
- **AIChatPage**: AIèŠå¤©ä¸»é¡µé¢ï¼Œä¸‰æ å¸ƒå±€ï¼ˆä¾§è¾¹æ +ä¸»å†…å®¹+æŒ‡å—é¢æ¿ï¼‰

### 3. ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆHooksï¼‰
- **useChat**: å°è£…èŠå¤©æ ¸å¿ƒé€»è¾‘
  - æ¶ˆæ¯å‘é€
  - æ¶ˆæ¯é‡å‘
  - æ¶ˆæ¯åˆ é™¤
  - æ¸…ç©ºå¯¹è¯
  - åœæ­¢ç”Ÿæˆ
- **useSession**: å°è£…ä¼šè¯ç®¡ç†é€»è¾‘
  - åˆ›å»ºä¼šè¯
  - æ›´æ–°ä¼šè¯
  - åˆ é™¤ä¼šè¯
  - ä¼šè¯æŒä¹…åŒ–

### 4. æœåŠ¡å±‚ï¼ˆServicesï¼‰
- **chatService**: AIèŠå¤©APIæœåŠ¡
  - å‘é€æ¶ˆæ¯ï¼ˆæ™®é€š/æµå¼ï¼‰
  - è·å–æ¨¡å‹åˆ—è¡¨
  - å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå¯æ›¿æ¢ä¸ºçœŸå®API

### 5. å·¥å…·å±‚ï¼ˆUtilsï¼‰
- **request**: HTTPè¯·æ±‚å°è£…ï¼ˆæ”¯æŒè¶…æ—¶ã€é”™è¯¯å¤„ç†ï¼‰
- **storage**: æœ¬åœ°å­˜å‚¨å·¥å…·
- **é€šç”¨å·¥å…·**: IDç”Ÿæˆã€æ—¶é—´æ ¼å¼åŒ–ã€é˜²æŠ–èŠ‚æµç­‰

### 6. ç±»å‹å±‚ï¼ˆTypesï¼‰
- å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- æ¶ˆæ¯ã€æ¨¡å‹ã€ä¼šè¯ç­‰æ ¸å¿ƒç±»å‹

### 7. å¸¸é‡å±‚ï¼ˆConstantsï¼‰
- AIæ¨¡å‹é…ç½®åˆ—è¡¨
- é»˜è®¤é…ç½®å‚æ•°

## ğŸ¨ æŠ€æœ¯æ ˆ

- **React 19.2**: UIæ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨
- **Ant Design 6.x**: UIç»„ä»¶åº“
- **Vite 6.x**: æ„å»ºå·¥å…·
- **CSS Modules**: æ ·å¼éš”ç¦»

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
pnpm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
pnpm dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
pnpm build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
```bash
pnpm preview
```

## ğŸ“ åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½
- âœ… ä¸‰æ å¼å¸ƒå±€ï¼ˆä¾§è¾¹æ +ä¸»å†…å®¹+æŒ‡å—é¢æ¿ï¼‰
- âœ… å¯¹è¯å†å²ç®¡ç†ï¼ˆæ–°å»ºã€åˆ é™¤ã€é‡å‘½åï¼‰
- âœ… ä¼šè¯æŒä¹…åŒ–å­˜å‚¨
- âœ… æ¬¢è¿é¡µä¸çƒ­é—¨è¯é¢˜
- âœ… å®æ—¶å¯¹è¯ï¼ˆæ¨¡æ‹Ÿæµå¼å“åº”ï¼‰
- âœ… æ¶ˆæ¯é‡å‘ã€åˆ é™¤ã€å¤åˆ¶
- âœ… æ‰“å­—æœºæ•ˆæœ
- âœ… å¢å¼ºç‰ˆè¾“å…¥æ¡†ï¼ˆå·¥å…·æ ã€é™„ä»¶ã€è¯­éŸ³ï¼‰
- âœ… è®¾è®¡æŒ‡å—é¢æ¿
- âœ… é”™è¯¯å¤„ç†
- âœ… å“åº”å¼è®¾è®¡

### å¾…æ‰©å±•åŠŸèƒ½
- â¬œ å¯¼å‡ºå¯¹è¯è®°å½•
- â¬œ è¯­éŸ³è¾“å…¥åŠŸèƒ½å®ç°
- â¬œ æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å®ç°
- â¬œ Markdownæ¸²æŸ“
- â¬œ ä»£ç é«˜äº®
- â¬œ ä¸»é¢˜åˆ‡æ¢ï¼ˆæš—è‰²æ¨¡å¼ï¼‰
- â¬œ å›½é™…åŒ–æ”¯æŒ
- â¬œ ç§»åŠ¨ç«¯æŠ½å±‰å¼ä¾§è¾¹æ 
- â¬œ æœç´¢å¯¹è¯å†å²
- â¬œ å¯¹è¯åˆ†ç»„/æ ‡ç­¾

## ğŸ”§ é…ç½®è¯´æ˜

### è·¯å¾„åˆ«å
é¡¹ç›®é…ç½®äº† `@` ä½œä¸º `src` ç›®å½•çš„åˆ«åï¼š

```typescript
// vite.config.ts
resolve: {
  alias: {
    '@': path.resolve(__dirname, './src'),
  },
}

// tsconfig.app.json
"paths": {
  "@/*": ["src/*"]
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š
```typescript
import { useChat } from '@/hooks';
import type { Message } from '@/types';
```

### APIé›†æˆ
å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…é¡¹ç›®ä¸­éœ€è¦æ›¿æ¢ `src/services/chatService.ts` ä¸­çš„APIè°ƒç”¨ï¼š

```typescript
// æ›¿æ¢ä¸ºçœŸå®API
async sendMessage(request: ChatRequest): Promise<ChatResponse> {
  return await httpClient.post<ChatResponse>('/chat/completions', request);
}
```

## ğŸ“¦ ä»£ç è§„èŒƒ

### æ–‡ä»¶å‘½å
- ç»„ä»¶æ–‡ä»¶ï¼šPascalCaseï¼ˆå¦‚ï¼š`ChatMessage/index.tsx`ï¼‰
- å·¥å…·æ–‡ä»¶ï¼šcamelCaseï¼ˆå¦‚ï¼š`request.ts`ï¼‰
- ç±»å‹æ–‡ä»¶ï¼šcamelCaseï¼ˆå¦‚ï¼š`chat.ts`ï¼‰
- æ ·å¼æ–‡ä»¶ï¼škebab-caseæˆ–ä¸ç»„ä»¶åŒåï¼ˆå¦‚ï¼š`style.css`ï¼‰

### å¯¼å…¥é¡ºåº
1. Reactç›¸å…³
2. ç¬¬ä¸‰æ–¹åº“
3. é¡¹ç›®å†…éƒ¨æ¨¡å—ï¼ˆä½¿ç”¨@åˆ«åï¼‰
4. ç±»å‹å¯¼å…¥
5. æ ·å¼æ–‡ä»¶

### ç»„ä»¶ç»“æ„
```typescript
/**
 * ç»„ä»¶è¯´æ˜
 */

import React from 'react';
// ... å…¶ä»–å¯¼å…¥

interface ComponentProps {
  // propså®šä¹‰
}

export const Component: React.FC<ComponentProps> = (props) => {
  // ç»„ä»¶é€»è¾‘
  return (
    // JSX
  );
};

export default Component;
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **ç»„ä»¶æ‹†åˆ†**: æ¯ä¸ªç»„ä»¶èŒè´£å•ä¸€ï¼Œæ˜“äºç»´æŠ¤
2. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
3. **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨è‡ªå®šä¹‰Hookå°è£…ä¸šåŠ¡é€»è¾‘
4. **æ ·å¼éš”ç¦»**: æ¯ä¸ªç»„ä»¶ç‹¬ç«‹æ ·å¼æ–‡ä»¶
5. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æç¤ºå’Œå¤„ç†æœºåˆ¶
6. **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨useCallbackã€useMemoç­‰ä¼˜åŒ–æ€§èƒ½
7. **ä»£ç å¤ç”¨**: å·¥å…·å‡½æ•°å’Œé€šç”¨ç»„ä»¶æŠ½ç¦»

## ğŸ“„ è®¸å¯è¯

MIT

